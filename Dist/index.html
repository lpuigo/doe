<!DOCTYPE html>
<html lang="fr">

<head>
    <title>EWIN</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/Assets/element-ui/2.4.11/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="/Assets/web-fonts-with-css.5.6/css/all.min.css">
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div id="app" style="height: 100%;">

        <!--
        @update:edited_worksite="ProcessEditedWorksite"
        @delete:edited_worksite="ProcessDeleteWorksite"
        -->
        <user-login-modal
                ref="UserLoginModal"
                :user.sync="User"
                @update:user=""
        ></user-login-modal>
        <!-- -->
        <worksite-edit-modal
                ref="WorksiteEditModal"
                @update_worksite="GetWorkSiteInfos"
        ></worksite-edit-modal>
        <!-- -->
        <worksite-update-modal
                ref="WorksiteUpdateModal"
                @update_worksite="GetWorkSiteInfos"
        ></worksite-update-modal>
        <!-- -->
        <el-container style="height: 100%;border: 1px solid #eee">
            <el-header class="ewin" style="height: 40px">
                <div class="header-menu-container">
                    <el-row :gutter="20" type="flex" align="middle">
                        <h2 class="content">EWIN Services</h2>
                    </el-row>
                    <el-radio-group v-model="ActiveMode" size="mini">
                        <el-radio-button label="Create">Création</el-radio-button>
                        <el-radio-button label="Update" :disabled="!NbUpdate">Mise à jour ({{NbUpdate}})</el-radio-button>
                        <el-radio-button label="Rework" :disabled="!NbRework">Reprise ({{NbRework}})</el-radio-button>
                    </el-radio-group>
                    <span></span>
                    <span></span>
                    <el-row :gutter="20" type="flex" align="middle">
                        <el-button v-if="!User.Connected" type="primary" @click="ShowUserLogin" size="mini">Login</el-button>
                        <el-button v-else type="primary" @click="UserLogout" size="mini">{{User.Name}} Logout</el-button>
                    </el-row>
                </div>
            </el-header>
            <el-main style="height:100%; padding: 0px 0px;">
                <worksite-table
                        v-if="ActiveMode == 'Create'"
                        :worksiteinfos="worksiteInfos"
                        @selected_worksite="EditWorksite"
                        @new_worksite="CreateNewWorksite"
                ></worksite-table>
                <worksite-table
                        v-if="ActiveMode == 'Update'"
                        :worksiteinfos="UpdatableWorsiteInfos"
                        @selected_worksite="UpdateWorksite"
                ></worksite-table>
            </el-main>
<!--
            <el-container style="height: 100%">
                <el-aside class="ewin_light" width="150px">
                    <div class="aside-menu-container">
                        Aside1
                    </div>
                </el-aside>
                <el-main style="height:100%; padding: 0px 0px;">
                    <worksite-table
                            :worksiteinfos="worksiteInfos"
                            @selected_worksite="EditWorksite"
                            @new_worksite="CreateNewWorksite"
                    ></worksite-table>
                </el-main>
            </el-container>
-->
            <!--<el-footer>Footer</el-footer>-->
        </el-container>
    </div>
</body>


<script src="/Assets/vue/2.5.17/vue.min.js"></script>
<!--<script src="/Assets/vue/2.5.16/vue.js"></script>-->
<script src="/Assets/element-ui/2.4.11/lib/index.js"></script>
<script src="/Assets/element-ui/2.4.11/lib/umd/locale/fr.js"></script>
<script>
    ELEMENT.locale(ELEMENT.lang.fr)
</script>
<!--<script src="/Assets/jquery/jquery-3.1.1.min.js"></script>-->
<!--<script src="/Assets/highcharts/highcharts.js"></script>-->
<script type="text/javascript" src="acceuil.js"></script>

</html>